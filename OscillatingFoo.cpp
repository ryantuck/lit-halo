//	########################################################################

//  OscillatingFoo.cpp

//	8/7/13

//	########################################################################

#include "OscillatingFoo.h"

OscillatingFoo::OscillatingFoo()
{
	Foo* aFoo = new Foo;
	aFoo->addLEDs(LITColor.babyBlue, maxBrightness, 0, 0);
	aFoo->direction = 1;
	aFoo->period	= 8;
	addFoo(aFoo);
}

void OscillatingFoo::update()
{
	int addr = foos.entry(0)->me->fLEDs.entry(0)->me->address;
	
	if (addr < 16)
	{
		foos.entry(0)->me->period = 4 - addr/4;
	}
	else if (addr > 15)
	{
		foos.entry(0)->me->period = addr/4 - 3;
	}
	
	if (addr == 0 && foos.entry(0)->me->direction == 0)
		foos.entry(0)->me->direction = 1;
	if (addr == 31 && foos.entry(0)->me->direction == 1)
		foos.entry(0)->me->direction = 0;
}

